# Руководство по работе с изображениями

## Поддержка Vision в боте

Бот теперь полностью поддерживает анализ изображений с помощью **GPT-5 Vision**!

## Как использовать

### 1. Простая отправка фото

Просто отправьте фото в чат с ботом, и он автоматически проанализирует его.

**Пример:**
```
[Отправляете фото природы]
Бот: "На изображении изображена живописная природа с зелёными холмами..."
```

### 2. Фото с подписью

Отправьте фото с подписью (caption), чтобы задать конкретный вопрос об изображении.

**Примеры:**
- Отправьте фото кода с подписью: "Объясни, что делает этот код"
- Отправьте фото еды с подписью: "Какое это блюдо и как его приготовить?"
- Отправьте фото текста с подписью: "Переведи этот текст на русский"

### 3. Продолжение обсуждения

После анализа изображения вы можете продолжить обсуждение текстовыми сообщениями. Бот сохраняет контекст!

**Пример диалога:**
```
[Отправляете фото кота]
Бот: "На фото изображён рыжий кот, лежащий на диване..."

Вы: "Какая это порода?"
Бот: "Судя по внешним признакам, это может быть британская короткошерстная кошка..."

Вы: "Как ухаживать за такими котами?"
Бот: "Британские короткошерстные кошки требуют следующего ухода..."
```

## Технические детали

### Поддерживаемые модели

Все эти модели поддерживают анализ изображений:
- ✅ **GPT-5** (используется по умолчанию)
- ✅ GPT-4o
- ✅ GPT-4o-mini

### Формат изображений

Бот автоматически:
- Скачивает фото из Telegram
- Конвертирует в base64
- Отправляет в OpenAI API
- Сохраняет контекст разговора

### Примеры использования

#### Анализ кода на скриншоте
```
[Отправляете скриншот кода]
Подпись: "Найди ошибки в этом коде"
```

#### Распознавание текста (OCR)
```
[Отправляете фото документа]
Подпись: "Извлеки весь текст из этого изображения"
```

#### Анализ диаграмм и графиков
```
[Отправляете график]
Подпись: "Объясни тренды на этом графике"
```

#### Помощь с решением задач
```
[Отправляете фото задачи из учебника]
Подпись: "Помоги решить эту задачу пошагово"
```

#### Идентификация объектов
```
[Отправляете фото растения]
Подпись: "Что это за растение?"
```

## Ограничения

- Максимальный размер изображения определяется Telegram
- Бот использует самое большое доступное качество фото
- История с изображениями сохраняется в JSON (multimodal content)

## Очистка истории

Если хотите начать новый диалог:
```
/new
```

Это очистит всю историю, включая изображения.

## Советы по использованию

1. **Чёткие фото**: Убедитесь, что изображение чёткое и хорошо освещено
2. **Конкретные вопросы**: Формулируйте конкретные вопросы в подписи
3. **Контекст**: Используйте историю для уточняющих вопросов
4. **Комбинируйте**: Можно отправлять и текст, и изображения в одном диалоге

## Безопасность

- Изображения обрабатываются через защищённое соединение
- История хранится локально в зашифрованном виде
- Бот не сохраняет файлы изображений, только их анализ
